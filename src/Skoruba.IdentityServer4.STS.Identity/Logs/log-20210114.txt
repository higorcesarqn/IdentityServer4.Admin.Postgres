[2021-01-14T13:37:00.7454290+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:37:02.0335913+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"db_identity_server4_admin"' on server '"tcp://db:5432"'.
[2021-01-14T13:37:02.0654523+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"Skoruba.IdentityServer4.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()"
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
[2021-01-14T13:37:02.0763644+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
[2021-01-14T13:37:02.0824795+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Inte[2021-01-14T13:40:30.1674186+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:40:31.4276354+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"db_identity_server4_admin"' on server '"tcp://db:5432"'.
[2021-01-14T13:40:31.4595768+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"Skoruba.IdentityServer4.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()"
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
[2021-01-14T13:40:31.4738154+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
[2021-01-14T13:40:31.4900370+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Inte[2021-01-14T13:41:52.9740841+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:41:53.5904720+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"Xml\"
FROM \"DataProtectionKeys\" AS d"
[2021-01-14T13:41:53.6153146+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"Skoruba.IdentityServer4.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"DataProtectionKeys\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation \"DataProtectionKeys\" does not exist
    Position: 21
    File: parse_relation.c
    Line: 1379
    Routine: parserOpenTable"
Npgsql.PostgresException (0x80004005): 42P01: relation "DataProtectionKeys" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DataProtectionKeys" does not exist
    Position: 21
    File: parse_relation.c
    Line: 1379
    Routine: parserOpenTable
[2021-01-14T13:41:53.6249037+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Npgsql.PostgresException (0x80004005): 42P01: relation "DataProtectionKeys" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DataProtectionKeys" does not exist
    Position: 21
    File: parse_relation.c
    Line: 1379
    Routine: parserOpenTable
[2021-01-14T13:41:53.6288032+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Npgsql.PostgresException (0x80004005): 42P01: relation "DataProtectionKeys" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext[2021-01-14T13:56:18.5540963+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:19.1237588+00:00][INFO][1][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"Xml\"
FROM \"DataProtectionKeys\" AS d"
[2021-01-14T13:56:19.1831367+00:00][INFO][1][IdentityServer4.Startup] Starting IdentityServer4 version "3.1.1.0"
[2021-01-14T13:56:19.1932831+00:00][DBUG][1][IdentityServer4.Startup] Custom IssuerUri set to "https://sts.skoruba.local"
[2021-01-14T13:56:19.1935632+00:00][DBUG][1][IdentityServer4.Startup] PublicOrigin explicitly set to "https://sts.skoruba.local"
[2021-01-14T13:56:19.1965181+00:00][INFO][1][IdentityServer4.Startup] Using the default authentication scheme "Identity.Application" for IdentityServer
[2021-01-14T13:56:19.1967980+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for authentication
[2021-01-14T13:56:19.1969566+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-in
[2021-01-14T13:56:19.1971096+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.External" as default ASP.NET Core scheme for sign-out
[2021-01-14T13:56:19.1972112+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for challenge
[2021-01-14T13:56:19.1972737+00:00][DBUG][1][IdentityServer4.Startup] Using "Identity.Application" as default ASP.NET Core scheme for forbid
[2021-01-14T13:56:19.3779543+00:00][INFO][1][Microsoft.Hosting.Lifetime] Now listening on: "http://[::]:80"
[2021-01-14T13:56:19.3781279+00:00][INFO][1][Microsoft.Hosting.Lifetime] Application started. Press Ctrl+C to shut down.
[2021-01-14T13:56:19.3781571+00:00][INFO][1][Microsoft.Hosting.Lifetime] Hosting environment: "Development"
[2021-01-14T13:56:19.3781823+00:00][INFO][1][Microsoft.Hosting.Lifetime] Content root path: "/app"
[2021-01-14T13:56:30.1560016+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/  
[2021-01-14T13:56:30.1817038+00:00][DBUG][4][IdentityServer4.Startup] Login Url: "/Account/Login"
[2021-01-14T13:56:30.1817903+00:00][DBUG][4][IdentityServer4.Startup] Login Return Url Parameter: "ReturnUrl"
[2021-01-14T13:56:30.1818221+00:00][DBUG][4][IdentityServer4.Startup] Logout Url: "/Account/Logout"
[2021-01-14T13:56:30.1818435+00:00][DBUG][4][IdentityServer4.Startup] ConsentUrl Url: "/consent"
[2021-01-14T13:56:30.1818658+00:00][DBUG][4][IdentityServer4.Startup] Consent Return Url Parameter: "returnUrl"
[2021-01-14T13:56:30.1818883+00:00][DBUG][4][IdentityServer4.Startup] Error Url: "/home/error"
[2021-01-14T13:56:30.1821107+00:00][DBUG][4][IdentityServer4.Startup] Error Id Parameter: "errorId"
[2021-01-14T13:56:30.2122559+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.HomeController.Index (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:56:30.2382803+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Home\"}". Executing controller action with signature "Microsoft.AspNetCore.Mvc.IActionResult Index()" on controller "Skoruba.IdentityServer4.STS.Identity.Controllers.HomeController" ("Skoruba.IdentityServer4.STS.Identity").
[2021-01-14T13:56:30.2577143+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-01-14T13:56:30.5723401+00:00][INFO][4][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 315.3239ms.
[2021-01-14T13:56:30.5730955+00:00][INFO][4][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "Skoruba.IdentityServer4.STS.Identity.Controllers.HomeController.Index (Skoruba.IdentityServer4.STS.Identity)" in 334.3469ms
[2021-01-14T13:56:30.5735618+00:00][INFO][4][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.HomeController.Index (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:56:30.5761180+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 421.7249ms 200 text/html; charset=utf-8
[2021-01-14T13:56:30.7232032+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/dist/js/bundle.min.js?v=11Fw87BWmEIjIw_LrA_JwvJM5t0w9WbTFIog6ElarB0  
[2021-01-14T13:56:30.7459219+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/js/bundle.min.js"'. Physical path: '"/app/wwwroot/dist/js/bundle.min.js"'
[2021-01-14T13:56:30.7473818+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 24.1805ms 200 application/javascript
[2021-01-14T13:56:30.7833602+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/dist/fonts/open-iconic.woff  
[2021-01-14T13:56:30.7942404+00:00][INFO][4][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/open-iconic.woff"'. Physical path: '"/app/wwwroot/dist/fonts/open-iconic.woff"'
[2021-01-14T13:56:30.8153371+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 11.482ms 200 application/font-woff
[2021-01-14T13:56:30.9220763+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/favicon.ico  
[2021-01-14T13:56:30.9301276+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/favicon.ico"'. Physical path: '"/app/wwwroot/favicon.ico"'
[2021-01-14T13:56:30.9306119+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 8.5366ms 200 image/x-icon
[2021-01-14T13:56:34.5348399+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/.well-known/openid-configuration  
[2021-01-14T13:56:34.5364562+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration" matched to endpoint type "Discovery"
[2021-01-14T13:56:34.5390209+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryEndpoint"
[2021-01-14T13:56:34.5391757+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryEndpoint" for "/.well-known/openid-configuration"
[2021-01-14T13:56:34.5399190+00:00][DBUG][5][IdentityServer4.Endpoints.DiscoveryEndpoint] Start discovery request
[2021-01-14T13:56:34.5516607+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:34.6226714+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("7"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:34.7170394+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:34.9090345+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email", "address", "skoruba_identity_admin_api"] as all scopes in database
[2021-01-14T13:56:34.9466931+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 411.9299ms 200 application/json; charset=UTF-8
[2021-01-14T13:56:35.0612813+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/.well-known/openid-configuration/jwks  
[2021-01-14T13:56:35.0641404+00:00][DBUG][15][IdentityServer4.Hosting.EndpointRouter] Request path "/.well-known/openid-configuration/jwks" matched to endpoint type "Discovery"
[2021-01-14T13:56:35.0648908+00:00][DBUG][15][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Discovery", successfully created handler: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint"
[2021-01-14T13:56:35.0649499+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.DiscoveryKeyEndpoint" for "/.well-known/openid-configuration/jwks"
[2021-01-14T13:56:35.0657929+00:00][DBUG][15][IdentityServer4.Endpoints.DiscoveryKeyEndpoint] Start key discovery request
[2021-01-14T13:56:35.1193100+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 58.0305ms 200 application/jwk-set+json; charset=UTF-8
[2021-01-14T13:56:35.1626741+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/connect/authorize?client_id=skoruba_identity_admin&redirect_uri=https%3A%2F%2Fadmin.skoruba.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=05W_5lknEDKPYDdMO5A8Mj3fTS3O0SLs5yFGo7h1KQ8&code_challenge_method=S256&response_mode=form_post&nonce=637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl&state=CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2021-01-14T13:56:35.1630777+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize" matched to endpoint type "Authorize"
[2021-01-14T13:56:35.1644829+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeEndpoint"
[2021-01-14T13:56:35.1645427+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeEndpoint" for "/connect/authorize"
[2021-01-14T13:56:35.1658033+00:00][DBUG][4][IdentityServer4.Endpoints.AuthorizeEndpoint] Start authorize request
[2021-01-14T13:56:35.1688952+00:00][DBUG][4][IdentityServer4.Endpoints.AuthorizeEndpoint] No user present in authorize request
[2021-01-14T13:56:35.1699700+00:00][DBUG][4][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-01-14T13:56:35.1755960+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:35.1979462+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:56:35.2751777+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.3077358+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.3404660+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.3511727+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.3593205+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.3922759+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.4015035+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.4328448+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.4412424+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.4964059+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:56:35.5001528+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:56:35.5069126+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-01-14T13:56:35.5365670+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("6"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:35.5372446+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:35.5619795+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:35.5637415+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:35.5918295+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:35.6357040+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:35.6391171+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:35.6404169+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:35.6428464+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-01-14T13:56:35.6492517+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "skoruba_identity_admin", ClientName: "skoruba_identity_admin", RedirectUri: "https://admin.skoruba.local/signin-oidc", AllowedRedirectUris: ["https://admin.skoruba.local/signin-oidc"], SubjectId: "anonymous", ResponseType: "code", ResponseMode: "form_post", GrantType: "authorization_code", RequestedScopes: "openid profile email roles", State: "CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q", UiLocales: null, Nonce: "637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "", Raw: [("client_id": "skoruba_identity_admin"), ("redirect_uri": "https://admin.skoruba.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "05W_5lknEDKPYDdMO5A8Mj3fTS3O0SLs5yFGo7h1KQ8"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl"), ("state": "CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2021-01-14T13:56:35.6533779+00:00][INFO][5][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing login: User is not authenticated
[2021-01-14T13:56:35.6560036+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 493.3381ms 302 
[2021-01-14T13:56:35.6726608+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dskoruba_identity_admin%26redirect_uri%3Dhttps%253A%252F%252Fadmin.skoruba.local%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D05W_5lknEDKPYDdMO5A8Mj3fTS3O0SLs5yFGo7h1KQ8%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl%26state%3DCfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
[2021-01-14T13:56:35.6760660+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.AccountController<Skoruba.IdentityServer4.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:56:35.6887217+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(System.String)" on controller "Skoruba.IdentityServer4.STS.Identity.Controllers.AccountController<Skoruba.IdentityServer4.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("Skoruba.IdentityServer4.STS.Identity").
[2021-01-14T13:56:35.7014912+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-01-14T13:56:35.7020676+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:35.7250029+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:56:35.7286444+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.7313860+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.7324288+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.7551827+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.7606508+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.7643963+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.7653795+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.7665562+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.7695637+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.7911526+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:56:35.7914086+00:00][DBUG][12][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:56:35.7916063+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-01-14T13:56:35.7927827+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:35.7930660+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:35.7948916+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:35.7952270+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:35.7971919+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:35.7975292+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:35.8035121+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("5"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:35.8044516+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:35.8047717+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-01-14T13:56:35.8300225+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:56:35.8339158+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.8349086+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.8373936+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.8398184+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.8416901+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.8848384+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.8875562+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.8901415+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.8924841+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:35.8927595+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:56:35.8929564+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:56:35.8967513+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Login".
[2021-01-14T13:56:35.9320305+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Login" executed in 35.6565ms.
[2021-01-14T13:56:35.9330457+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "Skoruba.IdentityServer4.STS.Identity.Controllers.AccountController<Skoruba.IdentityServer4.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (Skoruba.IdentityServer4.STS.Identity)" in 244.1381ms
[2021-01-14T13:56:35.9335338+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.AccountController<Skoruba.IdentityServer4.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:56:35.9342361+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 261.5909ms 200 text/html; charset=utf-8
[2021-01-14T13:56:36.2390559+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/dist/fonts/fontawesome-webfont.woff2?v=4.7.0  
[2021-01-14T13:56:36.2739273+00:00][INFO][7][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/dist/fonts/fontawesome-webfont.woff2"'. Physical path: '"/app/wwwroot/dist/fonts/fontawesome-webfont.woff2"'
[2021-01-14T13:56:36.2748352+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 35.8671ms 200 font/woff2
[2021-01-14T13:56:52.8462431+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://sts.skoruba.local/Account/Login?ReturnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dskoruba_identity_admin%26redirect_uri%3Dhttps%253A%252F%252Fadmin.skoruba.local%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D05W_5lknEDKPYDdMO5A8Mj3fTS3O0SLs5yFGo7h1KQ8%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl%26state%3DCfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0 application/x-www-form-urlencoded 1190
[2021-01-14T13:56:52.8491335+00:00][DBUG][7][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Account/Login" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-01-14T13:56:52.8511915+00:00][INFO][7][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-01-14T13:56:52.8557401+00:00][INFO][7][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.AccountController<Skoruba.IdentityServer4.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:56:52.8614406+00:00][INFO][7][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Login\", controller = \"Account\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Skoruba.IdentityServer4.STS.Identity.ViewModels.Account.LoginInputModel, System.String)" on controller "Skoruba.IdentityServer4.STS.Identity.Controllers.AccountController<Skoruba.IdentityServer4.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>" ("Skoruba.IdentityServer4.STS.Identity").
[2021-01-14T13:56:52.8786613+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-01-14T13:56:52.8794227+00:00][INFO][7][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:52.8833919+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:56:52.9068835+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:52.9517986+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:52.9989247+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.0019623+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.0241627+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.0680308+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.0704969+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.0736131+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.0758307+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.0763541+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:56:53.0765475+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:56:53.0767116+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-01-14T13:56:53.0787091+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:53.0801106+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:53.0837311+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:53.0840531+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:53.0863015+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:53.0874758+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:53.0908577+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:53.0911564+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:53.0914222+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-01-14T13:56:53.0945278+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:53.1020458+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-01-14T13:56:53.1196523+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedUserName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"NormalizedUserName\" = @__normalizedUserName_0
LIMIT 1"
[2021-01-14T13:56:53.1518366+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-01-14T13:56:53.1968810+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-01-14T13:56:53.2049676+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-01-14T13:56:53.2141350+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-01-14T13:56:53.2204852+00:00][DBUG][4][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-01-14T13:56:53.2211915+00:00][DBUG][4][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding idp claim with value: "local"
[2021-01-14T13:56:53.2213446+00:00][DBUG][4][IdentityServer4.Hosting.IdentityServerAuthenticationService] Adding auth_time claim with value: "1610632613"
[2021-01-14T13:56:53.2253690+00:00][INFO][4][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-01-14T13:56:53.2291346+00:00][INFO][4][IdentityServer4.Events.DefaultEventService] UserLoginSuccessEvent { Username: "admin", Provider: null, ProviderUserId: null, SubjectId: "c4f1e78c-6e31-4233-915a-1a3413c2f63c", DisplayName: "admin", Endpoint: "UI", ClientId: null, Category: "Authentication", Name: "User Login Success", EventType: Success, Id: 1000, Message: null, ActivityId: "0HM5OIGOR3AKE:00000001", TimeStamp: 01/14/2021 13:56:53, ProcessId: 29, LocalIpAddress: "::ffff:172.20.0.5:80", RemoteIpAddress: "172.20.0.1" }
[2021-01-14T13:56:53.2307588+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:56:53.2342179+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.2364954+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.2388894+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.2412686+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.2433407+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.2454067+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.2679394+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.2910513+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.2940762+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.2942843+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:56:53.2944154+00:00][DBUG][7][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:56:53.2960108+00:00][INFO][7][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Redirect".
[2021-01-14T13:56:53.3034745+00:00][INFO][7][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Redirect" executed in 7.9613ms.
[2021-01-14T13:56:53.3037646+00:00][INFO][7][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "Skoruba.IdentityServer4.STS.Identity.Controllers.AccountController<Skoruba.IdentityServer4.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (Skoruba.IdentityServer4.STS.Identity)" in 441.9696ms
[2021-01-14T13:56:53.3038865+00:00][INFO][7][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.AccountController<Skoruba.IdentityServer4.Admin.EntityFramework.Shared.Entities.Identity.UserIdentity, string>.Login (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:56:53.3042331+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 458.1715ms 302 text/html; charset=utf-8
[2021-01-14T13:56:53.3184741+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/connect/authorize/callback?client_id=skoruba_identity_admin&redirect_uri=https%3A%2F%2Fadmin.skoruba.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=05W_5lknEDKPYDdMO5A8Mj3fTS3O0SLs5yFGo7h1KQ8&code_challenge_method=S256&response_mode=form_post&nonce=637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl&state=CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2021-01-14T13:56:53.3223275+00:00][DBUG][15][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-01-14T13:56:53.3226836+00:00][DBUG][15][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-01-14T13:56:53.3227430+00:00][INFO][15][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-01-14T13:56:53.3239972+00:00][DBUG][15][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-01-14T13:56:53.3253117+00:00][DBUG][15][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "c4f1e78c-6e31-4233-915a-1a3413c2f63c"
[2021-01-14T13:56:53.3253585+00:00][DBUG][15][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-01-14T13:56:53.3255862+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:53.3275249+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:56:53.3314001+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.3340502+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.3370835+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.4013549+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.4253800+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.4270459+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.4499624+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.4533792+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.4555567+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.4561368+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:56:53.4562927+00:00][DBUG][12][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:56:53.4563712+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-01-14T13:56:53.4579129+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:53.4593673+00:00][DBUG][16][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:53.4617078+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:53.4626145+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:53.4641975+00:00][INFO][16][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:53.4858302+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:53.4874633+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:53.4875748+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:53.4877216+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-01-14T13:56:53.4879230+00:00][DBUG][12][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "skoruba_identity_admin", ClientName: "skoruba_identity_admin", RedirectUri: "https://admin.skoruba.local/signin-oidc", AllowedRedirectUris: ["https://admin.skoruba.local/signin-oidc"], SubjectId: "c4f1e78c-6e31-4233-915a-1a3413c2f63c", ResponseType: "code", ResponseMode: "form_post", GrantType: "authorization_code", RequestedScopes: "openid profile email roles", State: "CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q", UiLocales: null, Nonce: "637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "rfMT5ftQ_BZJg8kDdv1dfw", Raw: [("client_id": "skoruba_identity_admin"), ("redirect_uri": "https://admin.skoruba.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "05W_5lknEDKPYDdMO5A8Mj3fTS3O0SLs5yFGo7h1KQ8"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl"), ("state": "CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2021-01-14T13:56:53.4901058+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:53.4981246+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-01-14T13:56:53.5027786+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:53.5082042+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-01-14T13:56:53.5106371+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "z1gkPjAwn00VEPGDfQOTgUJXNgRNyyAORK2PcDjvbA4=" found in database: False
[2021-01-14T13:56:53.5117589+00:00][DBUG][7][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "skoruba_identity_admin|c4f1e78c-6e31-4233-915a-1a3413c2f63c" not found in store.
[2021-01-14T13:56:53.5128355+00:00][DBUG][7][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2021-01-14T13:56:53.5134133+00:00][INFO][7][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] Showing consent: User has not yet consented
[2021-01-14T13:56:53.5150672+00:00][INFO][7][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 196.6046ms 302 
[2021-01-14T13:56:53.5295122+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/consent?returnUrl=%2Fconnect%2Fauthorize%2Fcallback%3Fclient_id%3Dskoruba_identity_admin%26redirect_uri%3Dhttps%253A%252F%252Fadmin.skoruba.local%252Fsignin-oidc%26response_type%3Dcode%26scope%3Dopenid%2520profile%2520email%2520roles%26code_challenge%3D05W_5lknEDKPYDdMO5A8Mj3fTS3O0SLs5yFGo7h1KQ8%26code_challenge_method%3DS256%26response_mode%3Dform_post%26nonce%3D637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl%26state%3DCfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q%26x-client-SKU%3DID_NETSTANDARD2_0%26x-client-ver%3D5.5.0.0  
[2021-01-14T13:56:53.5335482+00:00][INFO][12][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-01-14T13:56:53.5337527+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.ConsentController.Index (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:56:53.5366117+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(System.String)" on controller "Skoruba.IdentityServer4.STS.Identity.Controllers.ConsentController" ("Skoruba.IdentityServer4.STS.Identity").
[2021-01-14T13:56:53.5385519+00:00][DBUG][12][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-01-14T13:56:53.5389820+00:00][INFO][12][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:56:53.5416394+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:56:53.5669322+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.5702531+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.6139839+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.6379527+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.6626105+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.7080420+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.7359188+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.7402005+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.7425151+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.7434716+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:56:53.7490473+00:00][DBUG][7][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:56:53.7493953+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-01-14T13:56:53.7539041+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:53.7555114+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:53.7598909+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:53.7604851+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:53.7640647+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:53.7648020+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:53.8162811+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("50"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:53.8167650+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:53.8171249+00:00][DBUG][7][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-01-14T13:56:53.8522737+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("32"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:56:53.8558909+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.8590221+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.8605676+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.8618057+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.8627901+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.8641363+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.8652741+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.8665381+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.8674701+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:56:53.8678102+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:56:53.8679948+00:00][DBUG][7][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:56:53.8693799+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:56:53.8700524+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:56:53.9153797+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("45"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:56:53.9157208+00:00][DBUG][12][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:56:53.9194659+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Index".
[2021-01-14T13:56:53.9436007+00:00][INFO][12][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-01-14T13:56:53.9470146+00:00][INFO][12][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Index" executed in 28.3096ms.
[2021-01-14T13:56:53.9472850+00:00][INFO][12][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "Skoruba.IdentityServer4.STS.Identity.Controllers.ConsentController.Index (Skoruba.IdentityServer4.STS.Identity)" in 410.5563ms
[2021-01-14T13:56:53.9474190+00:00][INFO][12][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.ConsentController.Index (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:56:53.9477048+00:00][INFO][12][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 418.1928ms 200 text/html; charset=utf-8
[2021-01-14T13:57:12.8979800+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://sts.skoruba.local/Consent application/x-www-form-urlencoded 1305
[2021-01-14T13:57:12.8988478+00:00][DBUG][5][IdentityServer4.Hosting.CorsPolicyProvider] CORS request made for path: "/Consent" from origin: "null" but was ignored because path was not for an allowed IdentityServer CORS endpoint
[2021-01-14T13:57:12.8990375+00:00][INFO][5][Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware] No CORS policy found for the specified request.
[2021-01-14T13:57:12.9058058+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-01-14T13:57:12.9063547+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executing endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.ConsentController.Index (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:57:12.9106552+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Route matched with "{action = \"Index\", controller = \"Consent\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Index(Skoruba.IdentityServer4.STS.Identity.ViewModels.Consent.ConsentInputModel)" on controller "Skoruba.IdentityServer4.STS.Identity.Controllers.ConsentController" ("Skoruba.IdentityServer4.STS.Identity").
[2021-01-14T13:57:12.9162138+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-01-14T13:57:12.9171528+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:57:12.9199238+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:57:12.9234992+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:12.9271313+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:12.9303479+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:12.9563105+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:12.9593107+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:12.9614382+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:12.9637298+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:12.9661968+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:12.9694348+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:12.9700147+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:57:12.9702839+00:00][DBUG][15][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:57:12.9705357+00:00][DBUG][15][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-01-14T13:57:12.9725585+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:57:12.9736938+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:57:12.9769631+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:57:12.9771622+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:57:12.9802777+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:57:12.9808849+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:57:12.9835022+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:57:12.9837776+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:57:12.9841208+00:00][DBUG][15][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-01-14T13:57:12.9853266+00:00][INFO][15][IdentityServer4.Events.DefaultEventService] ConsentGrantedEvent { SubjectId: "c4f1e78c-6e31-4233-915a-1a3413c2f63c", ClientId: "skoruba_identity_admin", RequestedScopes: ["openid", "profile", "email", "roles"], GrantedScopes: ["roles", "openid", "profile", "email"], ConsentRemembered: True, Category: "Grants", Name: "Consent granted", EventType: Information, Id: 4000, Message: null, ActivityId: "0HM5OIGOR3AKH:00000001", TimeStamp: 01/14/2021 13:57:12, ProcessId: 29, LocalIpAddress: "::ffff:172.20.0.5:80", RemoteIpAddress: "172.20.0.1" }
[2021-01-14T13:57:12.9954805+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:57:13.0399141+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("43"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.0428578+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.0453014+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.0475910+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.0501797+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.0525603+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.0548254+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.0573740+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.0601459+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.0603188+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:57:13.0604543+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:57:13.0612659+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executing ViewResult, running view "Redirect".
[2021-01-14T13:57:13.0629608+00:00][INFO][5][Microsoft.AspNetCore.Authorization.DefaultAuthorizationService] Authorization was successful.
[2021-01-14T13:57:13.0645309+00:00][INFO][5][Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor] Executed ViewResult - view "Redirect" executed in 3.7828ms.
[2021-01-14T13:57:13.0649860+00:00][INFO][5][Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker] Executed action "Skoruba.IdentityServer4.STS.Identity.Controllers.ConsentController.Index (Skoruba.IdentityServer4.STS.Identity)" in 154.1944ms
[2021-01-14T13:57:13.0652951+00:00][INFO][5][Microsoft.AspNetCore.Routing.EndpointMiddleware] Executed endpoint '"Skoruba.IdentityServer4.STS.Identity.Controllers.ConsentController.Index (Skoruba.IdentityServer4.STS.Identity)"'
[2021-01-14T13:57:13.0658406+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 168.0038ms 200 text/html; charset=utf-8
[2021-01-14T13:57:13.1119858+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/js/signin-redirect.js  
[2021-01-14T13:57:13.1226670+00:00][INFO][5][Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware] Sending file. Request path: '"/js/signin-redirect.js"'. Physical path: '"/app/wwwroot/js/signin-redirect.js"'
[2021-01-14T13:57:13.1227826+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 10.807ms 200 application/javascript
[2021-01-14T13:57:13.1898569+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/connect/authorize/callback?client_id=skoruba_identity_admin&redirect_uri=https%3A%2F%2Fadmin.skoruba.local%2Fsignin-oidc&response_type=code&scope=openid%20profile%20email%20roles&code_challenge=05W_5lknEDKPYDdMO5A8Mj3fTS3O0SLs5yFGo7h1KQ8&code_challenge_method=S256&response_mode=form_post&nonce=637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl&state=CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q&x-client-SKU=ID_NETSTANDARD2_0&x-client-ver=5.5.0.0  
[2021-01-14T13:57:13.1903739+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/authorize/callback" matched to endpoint type "Authorize"
[2021-01-14T13:57:13.1906168+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Authorize", successfully created handler: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint"
[2021-01-14T13:57:13.1906482+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.AuthorizeCallbackEndpoint" for "/connect/authorize/callback"
[2021-01-14T13:57:13.1906856+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Start authorize callback request
[2021-01-14T13:57:13.2035745+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] User in authorize request: "c4f1e78c-6e31-4233-915a-1a3413c2f63c"
[2021-01-14T13:57:13.2036332+00:00][DBUG][5][IdentityServer4.Validation.AuthorizeRequestValidator] Start authorize request protocol validation
[2021-01-14T13:57:13.2039658+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:57:13.2063111+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:57:13.2096993+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.2117141+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.2140670+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.2164538+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.2187439+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.2210480+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.2229886+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.2262725+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.2279223+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.2281815+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:57:13.2282625+00:00][DBUG][15][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:57:13.2283207+00:00][DBUG][15][IdentityServer4.Validation.AuthorizeRequestValidator] Checking for PKCE parameters
[2021-01-14T13:57:13.2304636+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:57:13.2313963+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:57:13.2348486+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:57:13.2349458+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:57:13.2370268+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:57:13.2383783+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:57:13.2407379+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:57:13.2414518+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:57:13.2415452+00:00][DBUG][15][IdentityServer4.Validation.AuthorizeRequestValidator] Calling into custom validator: "IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator"
[2021-01-14T13:57:13.2417115+00:00][DBUG][15][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] ValidatedAuthorizeRequest
AuthorizeRequestValidationLog { ClientId: "skoruba_identity_admin", ClientName: "skoruba_identity_admin", RedirectUri: "https://admin.skoruba.local/signin-oidc", AllowedRedirectUris: ["https://admin.skoruba.local/signin-oidc"], SubjectId: "c4f1e78c-6e31-4233-915a-1a3413c2f63c", ResponseType: "code", ResponseMode: "form_post", GrantType: "authorization_code", RequestedScopes: "openid profile email roles", State: "CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q", UiLocales: null, Nonce: "637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl", AuthenticationContextReferenceClasses: null, DisplayMode: null, PromptMode: null, MaxAge: null, LoginHint: null, SessionId: "rfMT5ftQ_BZJg8kDdv1dfw", Raw: [("client_id": "skoruba_identity_admin"), ("redirect_uri": "https://admin.skoruba.local/signin-oidc"), ("response_type": "code"), ("scope": "openid profile email roles"), ("code_challenge": "05W_5lknEDKPYDdMO5A8Mj3fTS3O0SLs5yFGo7h1KQ8"), ("code_challenge_method": "S256"), ("response_mode": "form_post"), ("nonce": "637462293951317179.ZGU1NDdjNmYtYWVkZC00YTkxLTlkZjQtZDU1NzRlNTM0OGRlYzYyMzkwN2ItZWQ1My00OTgxLTllZjMtNWY0ZTQzMzU4ZDJl"), ("state": "CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q"), ("x-client-SKU": "ID_NETSTANDARD2_0"), ("x-client-ver": "5.5.0.0")] }
[2021-01-14T13:57:13.2419682+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:57:13.2438904+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-01-14T13:57:13.2471439+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:57:13.2491224+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-01-14T13:57:13.2501301+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "z1gkPjAwn00VEPGDfQOTgUJXNgRNyyAORK2PcDjvbA4=" found in database: False
[2021-01-14T13:57:13.2504049+00:00][DBUG][5][IdentityServer4.Stores.DefaultUserConsentStore] "user_consent" grant with value: "skoruba_identity_admin|c4f1e78c-6e31-4233-915a-1a3413c2f63c" not found in store.
[2021-01-14T13:57:13.2505513+00:00][DBUG][5][IdentityServer4.Services.DefaultConsentService] Found no prior consent from consent store, consent is required
[2021-01-14T13:57:13.2522828+00:00][INFO][15][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User consented to scopes: ["roles", "openid", "profile", "email"]
[2021-01-14T13:57:13.2526461+00:00][DBUG][15][IdentityServer4.ResponseHandling.AuthorizeInteractionResponseGenerator] User indicated to remember consent for scopes: ["openid", "profile", "email", "roles"]
[2021-01-14T13:57:13.2534202+00:00][DBUG][15][IdentityServer4.Services.DefaultConsentService] Client allows remembering consent, and consent given. Updating consent store for subject: "c4f1e78c-6e31-4233-915a-1a3413c2f63c"
[2021-01-14T13:57:13.2644641+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__token_Key_0
LIMIT 2"
[2021-01-14T13:57:13.2659913+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "z1gkPjAwn00VEPGDfQOTgUJXNgRNyyAORK2PcDjvbA4=" not found in database
[2021-01-14T13:57:13.3319377+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("4"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
[2021-01-14T13:57:13.3566062+00:00][DBUG][15][IdentityServer4.ResponseHandling.AuthorizeResponseGenerator] Creating Authorization Code Flow response.
[2021-01-14T13:57:13.3667234+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__token_Key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__token_Key_0
LIMIT 2"
[2021-01-14T13:57:13.3668363+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "iS8mqJqJfDa6oKDTi5OceC+HFnccay2MHHeMv3rQDww=" not found in database
[2021-01-14T13:57:13.3708971+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@p0='?', @p1='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = DateTime), @p5='?', @p6='?'"], CommandType='Text', CommandTimeout='30']"
""INSERT INTO \"PersistedGrants\" (\"Key\", \"ClientId\", \"CreationTime\", \"Data\", \"Expiration\", \"SubjectId\", \"Type\")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);"
[2021-01-14T13:57:13.3770443+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "skoruba_identity_admin", ClientName: "skoruba_identity_admin", RedirectUri: "https://admin.skoruba.local/signin-oidc", Endpoint: "Authorize", SubjectId: "c4f1e78c-6e31-4233-915a-1a3413c2f63c", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "code", TokenValue: "****nvJA" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5OIGOR3AKJ:00000001", TimeStamp: 01/14/2021 13:57:13, ProcessId: 29, LocalIpAddress: "::ffff:172.20.0.5:80", RemoteIpAddress: "172.20.0.1" }
[2021-01-14T13:57:13.3776946+00:00][DBUG][5][IdentityServer4.Endpoints.AuthorizeCallbackEndpoint] Authorize endpoint response
AuthorizeResponseLog { SubjectId: "c4f1e78c-6e31-4233-915a-1a3413c2f63c", ClientId: "skoruba_identity_admin", RedirectUri: "https://admin.skoruba.local/signin-oidc", State: "CfDJ8Ammn0FlDsVIr4A0Eyx-Qv2u2h0oqwlwXqgsIF_-L-PSA7RFACMq-k0Xy031dgaHVXwM4Sq5-8316JiZxHCVvcB9jzeJdsnxoBXbpUWZNFTTppPBU6ee388dSiOeylHiVpYWJFJ_A8Vufg8xfBiC_uvkQT8vordYsxpTdrT6z-7znBE2Ws2_oB8FnMAqM7Oy_7s4nhrjsBVIVjfXxYsDar4MnFMQgPIY93IWBS5tEdNKKKVHNSTr0Sn6EN2sCth3sfHG_KI-bXnuDd4WSektfz9JCSHa5h7fzEaUKmTyKMNXwMzsmNQ1xzK0_QIgN1goUCsIQ21a4Y-rjWdeBGKuU2uIXaWsHXk3dzYUTPWXtr1suMAUEluDqhm5C7Fwd65D2Q", Scope: "openid profile email roles", Error: null, ErrorDescription: null }
[2021-01-14T13:57:13.3815986+00:00][DBUG][5][IdentityServer4.Hosting.IdentityServerAuthenticationService] Augmenting SignInContext
[2021-01-14T13:57:13.3820858+00:00][INFO][5][Microsoft.AspNetCore.Authentication.Cookies.CookieAuthenticationHandler] AuthenticationScheme: "Identity.Application" signed in.
[2021-01-14T13:57:13.3845192+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 194.666ms 200 text/html; charset=UTF-8
[2021-01-14T13:57:13.6025347+00:00][INFO][5][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 POST http://sts.skoruba.local/connect/token application/x-www-form-urlencoded 272
[2021-01-14T13:57:13.6031109+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/token" matched to endpoint type "Token"
[2021-01-14T13:57:13.6052367+00:00][DBUG][5][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Token", successfully created handler: "IdentityServer4.Endpoints.TokenEndpoint"
[2021-01-14T13:57:13.6052857+00:00][INFO][5][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.TokenEndpoint" for "/connect/token"
[2021-01-14T13:57:13.6072567+00:00][DBUG][5][IdentityServer4.Endpoints.TokenEndpoint] Start token request.
[2021-01-14T13:57:13.6083599+00:00][DBUG][5][IdentityServer4.Validation.ClientSecretValidator] Start client validation
[2021-01-14T13:57:13.6106936+00:00][DBUG][5][IdentityServer4.Validation.BasicAuthenticationSecretParser] Start parsing Basic Authentication secret
[2021-01-14T13:57:13.6115513+00:00][DBUG][5][IdentityServer4.Validation.PostBodySecretParser] Start parsing for secret in post body
[2021-01-14T13:57:13.6120861+00:00][DBUG][5][IdentityServer4.Validation.SecretParser] Parser found secret: "PostBodySecretParser"
[2021-01-14T13:57:13.6121360+00:00][DBUG][5][IdentityServer4.Validation.SecretParser] Secret id found: "skoruba_identity_admin"
[2021-01-14T13:57:13.6126604+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:57:13.6153884+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:57:13.6179090+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.6187687+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.6202759+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.6236888+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.6262469+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.6487679+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.6513291+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.6745808+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.7173321+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.7588616+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:57:13.7590324+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:57:13.7643473+00:00][DBUG][5][IdentityServer4.Validation.SecretValidator] Secret validator success: "HashedSharedSecretValidator"
[2021-01-14T13:57:13.7644434+00:00][DBUG][5][IdentityServer4.Validation.ClientSecretValidator] Client validation success
[2021-01-14T13:57:13.7654269+00:00][INFO][5][IdentityServer4.Events.DefaultEventService] ClientAuthenticationSuccessEvent { ClientId: "skoruba_identity_admin", AuthenticationMethod: "SharedSecret", Category: "Authentication", Name: "Client Authentication Success", EventType: Success, Id: 1010, Message: null, ActivityId: "0HM5OIGOR3AKK:00000001", TimeStamp: 01/14/2021 13:57:13, ProcessId: 29, LocalIpAddress: "::ffff:172.20.0.5:80", RemoteIpAddress: "172.20.0.6" }
[2021-01-14T13:57:13.7673250+00:00][DBUG][5][IdentityServer4.Validation.TokenRequestValidator] Start token request validation
[2021-01-14T13:57:13.7695966+00:00][DBUG][5][IdentityServer4.Validation.TokenRequestValidator] Start validation of authorization code token request
[2021-01-14T13:57:13.7701645+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerPersistedGrantDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:57:13.7720323+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-01-14T13:57:13.7762549+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] "iS8mqJqJfDa6oKDTi5OceC+HFnccay2MHHeMv3rQDww=" found in database: True
[2021-01-14T13:57:13.7921713+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__key_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT p.\"Key\", p.\"ClientId\", p.\"CreationTime\", p.\"Data\", p.\"Expiration\", p.\"SubjectId\", p.\"Type\"
FROM \"PersistedGrants\" AS p
WHERE p.\"Key\" = @__key_0
LIMIT 1"
[2021-01-14T13:57:13.7943324+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.PersistedGrantStore] removing "iS8mqJqJfDa6oKDTi5OceC+HFnccay2MHHeMv3rQDww=" persisted grant from database
[2021-01-14T13:57:13.8199836+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@p0='?'"], CommandType='Text', CommandTimeout='30']"
""DELETE FROM \"PersistedGrants\"
WHERE \"Key\" = @p0;"
[2021-01-14T13:57:13.8318410+00:00][DBUG][5][IdentityServer4.Validation.TokenRequestValidator] Client required a proof key for code exchange. Starting PKCE validation
[2021-01-14T13:57:13.8332560+00:00][INFO][5][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:57:13.8351737+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-01-14T13:57:13.8566472+00:00][DBUG][7][IdentityServer4.Validation.TokenRequestValidator] Validation of authorization code token request success
[2021-01-14T13:57:13.8586039+00:00][INFO][7][IdentityServer4.Validation.TokenRequestValidator] Token request validation success, TokenRequestValidationLog { ClientId: "skoruba_identity_admin", ClientName: "skoruba_identity_admin", GrantType: "authorization_code", Scopes: null, AuthorizationCode: "3SRDE46yKxRAZL3uqd-BGt3TBrh0K_xZPnaBrwYnvJA", RefreshToken: null, UserName: null, AuthenticationContextReferenceClasses: null, Tenant: null, IdP: null, Raw: [("client_id": "skoruba_identity_admin"), ("client_secret": "***REDACTED***"), ("code": "3SRDE46yKxRAZL3uqd-BGt3TBrh0K_xZPnaBrwYnvJA"), ("grant_type": "authorization_code"), ("redirect_uri": "https://admin.skoruba.local/signin-oidc"), ("code_verifier": "Vr-UbTN_cUzPtModidU9pTqEJGmaGRSIgNBAjGak2Ig")] }
[2021-01-14T13:57:13.8846076+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:57:13.8878842+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.8890190+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.8897146+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.8902442+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.8909852+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.8935193+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.8955592+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.8978137+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.9002137+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:13.9005375+00:00][DBUG][5][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:57:13.9005896+00:00][DBUG][5][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:57:13.9031219+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:57:13.9039994+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:57:13.9052611+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:57:13.9053604+00:00][DBUG][7][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:57:13.9118962+00:00][DBUG][7][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for client: "skoruba_identity_admin"
[2021-01-14T13:57:13.9121317+00:00][DBUG][7][IdentityServer4.Services.DefaultClaimsService] Getting claims for access token for subject: "c4f1e78c-6e31-4233-915a-1a3413c2f63c"
[2021-01-14T13:57:13.9164194+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
WHERE u.\"UserId\" = @__user_Id_0"
[2021-01-14T13:57:13.9223205+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__userId_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Name\"
FROM \"UserRoles\" AS u
INNER JOIN \"Roles\" AS r ON u.\"RoleId\" = r.\"Id\"
WHERE u.\"UserId\" = @__userId_0"
[2021-01-14T13:57:13.9247498+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__normalizedName_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"Id\", r.\"ConcurrencyStamp\", r.\"Name\", r.\"NormalizedName\"
FROM \"Roles\" AS r
WHERE r.\"NormalizedName\" = @__normalizedName_0
LIMIT 1"
[2021-01-14T13:57:13.9680774+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__role_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT r.\"ClaimType\", r.\"ClaimValue\"
FROM \"RoleClaims\" AS r
WHERE r.\"RoleId\" = @__role_Id_0"
[2021-01-14T13:57:14.1026439+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("3"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:57:14.1050421+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.1074468+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.1292814+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.1312775+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.1952122+00:00][INFO][7][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("22"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.1966925+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.2197676+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.2436627+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("23"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.2460870+00:00][INFO][5][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.2467597+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:57:14.2468144+00:00][DBUG][15][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:57:14.2487217+00:00][INFO][12][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:57:14.2701294+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:57:14.2722358+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__names_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT a.\"Id\", a.\"Created\", a.\"Description\", a.\"DisplayName\", a.\"Enabled\", a.\"LastAccessed\", a.\"Name\", a.\"NonEditable\", a.\"Updated\", a0.\"Id\", a0.\"ApiResourceId\", a0.\"Created\", a0.\"Description\", a0.\"Expiration\", a0.\"Type\", a0.\"Value\", t.\"Id\", t.\"ApiResourceId\", t.\"Description\", t.\"DisplayName\", t.\"Emphasize\", t.\"Name\", t.\"Required\", t.\"ShowInDiscoveryDocument\", t.\"Id0\", t.\"ApiScopeId\", t.\"Type\", a3.\"Id\", a3.\"ApiResourceId\", a3.\"Type\", a4.\"Id\", a4.\"ApiResourceId\", a4.\"Key\", a4.\"Value\"
FROM \"ApiResources\" AS a
LEFT JOIN \"ApiSecrets\" AS a0 ON a.\"Id\" = a0.\"ApiResourceId\"
LEFT JOIN (
    SELECT a1.\"Id\", a1.\"ApiResourceId\", a1.\"Description\", a1.\"DisplayName\", a1.\"Emphasize\", a1.\"Name\", a1.\"Required\", a1.\"ShowInDiscoveryDocument\", a2.\"Id\" AS \"Id0\", a2.\"ApiScopeId\", a2.\"Type\"
    FROM \"ApiScopes\" AS a1
    LEFT JOIN \"ApiScopeClaims\" AS a2 ON a1.\"Id\" = a2.\"ApiScopeId\"
) AS t ON a.\"Id\" = t.\"ApiResourceId\"
LEFT JOIN \"ApiClaims\" AS a3 ON a.\"Id\" = a3.\"ApiResourceId\"
LEFT JOIN \"ApiProperties\" AS a4 ON a.\"Id\" = a4.\"ApiResourceId\"
WHERE EXISTS (
    SELECT 1
    FROM \"ApiScopes\" AS a5
    WHERE (a.\"Id\" = a5.\"ApiResourceId\") AND a5.\"Name\" = ANY (@__names_0))
ORDER BY a.\"Id\", a0.\"Id\", t.\"Id\", t.\"Id0\", a3.\"Id\", a4.\"Id\""
[2021-01-14T13:57:14.2723605+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.ResourceStore] Found [] API scopes in database
[2021-01-14T13:57:14.2757100+00:00][DBUG][15][IdentityServer4.Services.DefaultClaimsService] Getting claims for identity token for subject: "c4f1e78c-6e31-4233-915a-1a3413c2f63c" and client: "skoruba_identity_admin"
[2021-01-14T13:57:14.2757896+00:00][DBUG][15][IdentityServer4.Services.DefaultClaimsService] In addition to an id_token, an access_token was requested. No claims other than sub are included in the id_token. To obtain more user claims, either use the user info endpoint or set AlwaysIncludeUserClaimsInIdToken on the client configuration.
[2021-01-14T13:57:14.2779133+00:00][INFO][15][IdentityServer4.Events.DefaultEventService] TokenIssuedSuccessEvent { ClientId: "skoruba_identity_admin", ClientName: "skoruba_identity_admin", RedirectUri: null, Endpoint: "Token", SubjectId: "c4f1e78c-6e31-4233-915a-1a3413c2f63c", Scopes: "openid profile email roles", GrantType: "authorization_code", Tokens: [Token { TokenType: "id_token", TokenValue: "****A6vw" }, Token { TokenType: "access_token", TokenValue: "****Y-Cw" }], Category: "Token", Name: "Token Issued Success", EventType: Success, Id: 2000, Message: null, ActivityId: "0HM5OIGOR3AKK:00000001", TimeStamp: 01/14/2021 13:57:14, ProcessId: 29, LocalIpAddress: "::ffff:172.20.0.5:80", RemoteIpAddress: "172.20.0.6" }
[2021-01-14T13:57:14.2783238+00:00][DBUG][15][IdentityServer4.Endpoints.TokenEndpoint] Token request success.
[2021-01-14T13:57:14.2889534+00:00][INFO][15][Microsoft.AspNetCore.Hosting.Diagnostics] Request finished in 679.3134ms 200 application/json; charset=UTF-8
[2021-01-14T13:57:14.3757789+00:00][INFO][4][Microsoft.AspNetCore.Hosting.Diagnostics] Request starting HTTP/1.1 GET http://sts.skoruba.local/connect/userinfo  
[2021-01-14T13:57:14.3761936+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Request path "/connect/userinfo" matched to endpoint type "Userinfo"
[2021-01-14T13:57:14.3768301+00:00][DBUG][4][IdentityServer4.Hosting.EndpointRouter] Endpoint enabled: "Userinfo", successfully created handler: "IdentityServer4.Endpoints.UserInfoEndpoint"
[2021-01-14T13:57:14.3768695+00:00][INFO][4][IdentityServer4.Hosting.IdentityServerMiddleware] Invoking IdentityServer endpoint: "IdentityServer4.Endpoints.UserInfoEndpoint" for "/connect/userinfo"
[2021-01-14T13:57:14.3783388+00:00][DBUG][4][IdentityServer4.Endpoints.UserInfoEndpoint] Start userinfo request
[2021-01-14T13:57:14.3794218+00:00][DBUG][4][IdentityServer4.Validation.BearerTokenUsageValidator] Bearer token found in header
[2021-01-14T13:57:14.4056226+00:00][INFO][4][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerConfigurationDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:57:14.4063129+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:57:14.4093188+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.4113157+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.4131423+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.4150024+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.4167851+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.4186162+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.4199972+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.4209271+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.4217582+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("0"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.4218943+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:57:14.4219310+00:00][DBUG][15][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:57:14.4892601+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT t.\"Id\", t.\"AbsoluteRefreshTokenLifetime\", t.\"AccessTokenLifetime\", t.\"AccessTokenType\", t.\"AllowAccessTokensViaBrowser\", t.\"AllowOfflineAccess\", t.\"AllowPlainTextPkce\", t.\"AllowRememberConsent\", t.\"AlwaysIncludeUserClaimsInIdToken\", t.\"AlwaysSendClientClaims\", t.\"AuthorizationCodeLifetime\", t.\"BackChannelLogoutSessionRequired\", t.\"BackChannelLogoutUri\", t.\"ClientClaimsPrefix\", t.\"ClientId\", t.\"ClientName\", t.\"ClientUri\", t.\"ConsentLifetime\", t.\"Created\", t.\"Description\", t.\"DeviceCodeLifetime\", t.\"EnableLocalLogin\", t.\"Enabled\", t.\"FrontChannelLogoutSessionRequired\", t.\"FrontChannelLogoutUri\", t.\"IdentityTokenLifetime\", t.\"IncludeJwtId\", t.\"LastAccessed\", t.\"LogoUri\", t.\"NonEditable\", t.\"PairWiseSubjectSalt\", t.\"ProtocolType\", t.\"RefreshTokenExpiration\", t.\"RefreshTokenUsage\", t.\"RequireClientSecret\", t.\"RequireConsent\", t.\"RequirePkce\", t.\"SlidingRefreshTokenLifetime\", t.\"UpdateAccessTokenClaimsOnRefresh\", t.\"Updated\", t.\"UserCodeType\", t.\"UserSsoLifetime\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
LIMIT 1"
[2021-01-14T13:57:14.5131479+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Origin\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientCorsOrigins\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.5153427+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"GrantType\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientGrantTypes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.5182321+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Scope\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientScopes\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.5208754+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientClaims\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.5445907+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Created\", c0.\"Description\", c0.\"Expiration\", c0.\"Type\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientSecrets\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.5467854+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Provider\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientIdPRestrictions\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.5496772+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"PostLogoutRedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientPostLogoutRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.5521111+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"Key\", c0.\"Value\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientProperties\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.5541931+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__clientId_0='?', @__p_1='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT c0.\"Id\", c0.\"ClientId\", c0.\"RedirectUri\"
FROM (
    SELECT c.\"Id\", c.\"AbsoluteRefreshTokenLifetime\", c.\"AccessTokenLifetime\", c.\"AccessTokenType\", c.\"AllowAccessTokensViaBrowser\", c.\"AllowOfflineAccess\", c.\"AllowPlainTextPkce\", c.\"AllowRememberConsent\", c.\"AlwaysIncludeUserClaimsInIdToken\", c.\"AlwaysSendClientClaims\", c.\"AuthorizationCodeLifetime\", c.\"BackChannelLogoutSessionRequired\", c.\"BackChannelLogoutUri\", c.\"ClientClaimsPrefix\", c.\"ClientId\", c.\"ClientName\", c.\"ClientUri\", c.\"ConsentLifetime\", c.\"Created\", c.\"Description\", c.\"DeviceCodeLifetime\", c.\"EnableLocalLogin\", c.\"Enabled\", c.\"FrontChannelLogoutSessionRequired\", c.\"FrontChannelLogoutUri\", c.\"IdentityTokenLifetime\", c.\"IncludeJwtId\", c.\"LastAccessed\", c.\"LogoUri\", c.\"NonEditable\", c.\"PairWiseSubjectSalt\", c.\"ProtocolType\", c.\"RefreshTokenExpiration\", c.\"RefreshTokenUsage\", c.\"RequireClientSecret\", c.\"RequireConsent\", c.\"RequirePkce\", c.\"SlidingRefreshTokenLifetime\", c.\"UpdateAccessTokenClaimsOnRefresh\", c.\"Updated\", c.\"UserCodeType\", c.\"UserSsoLifetime\"
    FROM \"Clients\" AS c
    WHERE c.\"ClientId\" = @__clientId_0
    LIMIT @__p_1
) AS t
INNER JOIN \"ClientRedirectUris\" AS c0 ON t.\"Id\" = c0.\"ClientId\""
[2021-01-14T13:57:14.5547626+00:00][DBUG][15][IdentityServer4.EntityFramework.Stores.ClientStore] "skoruba_identity_admin" found in database: True
[2021-01-14T13:57:14.5548247+00:00][DBUG][15][IdentityServer4.Stores.ValidatingClientStore] client configuration validation for client "skoruba_identity_admin" succeeded.
[2021-01-14T13:57:14.5555010+00:00][INFO][15][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"AdminIdentityDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T13:57:14.5573498+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("1"ms) [Parameters=["@__p_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"AccessFailedCount\", u.\"ConcurrencyStamp\", u.\"Email\", u.\"EmailConfirmed\", u.\"LockoutEnabled\", u.\"LockoutEnd\", u.\"NormalizedEmail\", u.\"NormalizedUserName\", u.\"PasswordHash\", u.\"PhoneNumber\", u.\"PhoneNumberConfirmed\", u.\"SecurityStamp\", u.\"TwoFactorEnabled\", u.\"UserName\"
FROM \"Users\" AS u
WHERE u.\"Id\" = @__p_0
LIMIT 1"
[2021-01-14T13:57:14.5583277+00:00][DBUG][15][IdentityServer4.Validation.TokenValidator] Calling into custom token validator: "IdentityServer4.Validation.DefaultCustomTokenValidator"
[2021-01-14T13:57:14.5589824+00:00][DBUG][15][IdentityServer4.Validation.TokenValidator] Token validation success
TokenValidationLog { ClientId: null, ClientName: null, ValidateLifetime: True, AccessTokenType: "Jwt", ExpectedScope: "openid", TokenHandle: null, JwtId: null, Claims: [("nbf": 1610632634), ("exp": 1610636234), ("iss": "https://sts.skoruba.local"), ("client_id": "skoruba_identity_admin"), ("sub": "c4f1e78c-6e31-4233-915a-1a3413c2f63c"), ("auth_time": 1610632613), ("idp": "local"), ("scope": ["roles", "openid", "profile", "email"]), ("amr": "pwd")] }
[2021-01-14T13:57:14.5614700+00:00][DBUG][15][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Creating userinfo response
[2021-01-14T13:57:14.5634520+00:00][DBUG][15][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2021-01-14T13:57:14.5640018+00:00][DBUG][15][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2021-01-14T13:57:14.5665232+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:57:14.5672095+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:57:14.5704023+00:00][DBUG][4][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Requested claim types: "role sub updated_at locale zoneinfo birthdate gender website picture preferred_username nickname middle_name given_name family_name name profile email email_verified"
[2021-01-14T13:57:14.5704932+00:00][DBUG][4][IdentityServer4.ResponseHandling.UserInfoResponseGenerator] Scopes in access token: "roles openid profile email"
[2021-01-14T13:57:14.5732385+00:00][INFO][4][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("2"ms) [Parameters=["@__scopes_0='?' (DbType = Object)"], CommandType='Text', CommandTimeout='30']"
""SELECT i.\"Id\", i.\"Created\", i.\"Description\", i.\"DisplayName\", i.\"Emphasize\", i.\"Enabled\", i.\"Name\", i.\"NonEditable\", i.\"Required\", i.\"ShowInDiscoveryDocument\", i.\"Updated\", i0.\"Id\", i0.\"IdentityResourceId\", i0.\"Type\", i1.\"Id\", i1.\"IdentityResourceId\", i1.\"Key\", i1.\"Value\"
FROM \"IdentityResources\" AS i
LEFT JOIN \"IdentityClaims\" AS i0 ON i.\"Id\" = i0.\"IdentityResourceId\"
LEFT JOIN \"IdentityProperties\" AS i1 ON i.\"Id\" = i1.\"IdentityResourceId\"
WHERE i.\"Name\" = ANY (@__scopes_0)
ORDER BY i.\"Id\", i0.\"Id\", i1.\"Id\""
[2021-01-14T13:57:14.5734940+00:00][DBUG][4][IdentityServer4.EntityFramework.Stores.ResourceStore] Found ["roles", "openid", "profile", "email"] identity scopes in database
[2021-01-14T13:57:14.6180780+00:00][INFO][15][Microsoft.EntityFrameworkCore.Database.Command] Executed DbCommand ("44"ms) [Parameters=["@__user_Id_0='?'"], CommandType='Text', CommandTimeout='30']"
""SELECT u.\"Id\", u.\"ClaimType\", u.\"ClaimValue\", u.\"UserId\"
FROM \"UserClaims\" AS u
[2021-01-14T14:27:11.4737098+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T14:27:12.7178427+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Connection] An error occurred using the connection to database '"db_identity_server4_admin"' on server '"tcp://db:5432"'.
[2021-01-14T14:27:12.7421541+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"Skoruba.IdentityServer4.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()"
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
[2021-01-14T14:27:12.7500691+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
[2021-01-14T14:27:12.7545605+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
System.Net.Internals.SocketExceptionFactory+ExtendedSocketException (00000005, 0xFFFDFFFF): Name or service not known
   at System.Net.Dns.InternalGetHostByName(String hostName)
   at System.Net.Dns.GetHostAddresses(String hostNameOrAddress)
   at Npgsql.NpgsqlConnector.Connect(NpgsqlTimeout timeout)
   at Npgsql.NpgsqlConnector.RawOpen(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnector.Open(NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.ConnectorPool.AllocateLong(NpgsqlConnection conn, NpgsqlTimeout timeout, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlConnection.<>c__DisplayClass32_0.<<Open>g__OpenLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnection.Open()
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenDbConnection(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.Open(Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Inte[2021-01-14T14:30:07.0631880+00:00][INFO][1][Microsoft.EntityFrameworkCore.Infrastructure] Entity Framework Core "3.1.6" initialized '"IdentityServerDataProtectionDbContext"' using provider '"Npgsql.EntityFrameworkCore.PostgreSQL"' with options: "MigrationsAssembly=Skoruba.IdentityServer4.Admin.EntityFramework.PostgreSQL "
[2021-01-14T14:30:07.5860735+00:00][EROR][1][Microsoft.EntityFrameworkCore.Database.Command] Failed executing DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT d.\"Xml\"
FROM \"DataProtectionKeys\" AS d"
[2021-01-14T14:30:07.6119461+00:00][EROR][1][Microsoft.EntityFrameworkCore.Query] An exception occurred while iterating over the results of a query for context type '"Skoruba.IdentityServer4.Admin.EntityFramework.Shared.DbContexts.IdentityServerDataProtectionDbContext"'."
""Npgsql.PostgresException (0x80004005): 42P01: relation \"DataProtectionKeys\" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation \"DataProtectionKeys\" does not exist
    Position: 21
    File: parse_relation.c
    Line: 1194
    Routine: parserOpenTable"
Npgsql.PostgresException (0x80004005): 42P01: relation "DataProtectionKeys" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DataProtectionKeys" does not exist
    Position: 21
    File: parse_relation.c
    Line: 1194
    Routine: parserOpenTable
[2021-01-14T14:30:07.6198632+00:00][EROR][1][Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider] An error occurred while reading the key ring.
Npgsql.PostgresException (0x80004005): 42P01: relation "DataProtectionKeys" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Collections.Generic.List`1..ctor(IEnumerable`1 collection)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at Microsoft.AspNetCore.DataProtection.EntityFrameworkCore.EntityFrameworkCoreXmlRepository`1.GetAllElements()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager.GetAllKeys()
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.CreateCacheableKeyRingCore(DateTimeOffset now, IKey keyJustAdded)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.Microsoft.AspNetCore.DataProtection.KeyManagement.Internal.ICacheableKeyRingProvider.GetCacheableKeyRing(DateTimeOffset now)
   at Microsoft.AspNetCore.DataProtection.KeyManagement.KeyRingProvider.GetCurrentKeyRingCore(DateTime utcNow, Boolean forceRefresh)
  Exception data:
    Severity: ERROR
    SqlState: 42P01
    MessageText: relation "DataProtectionKeys" does not exist
    Position: 21
    File: parse_relation.c
    Line: 1194
    Routine: parserOpenTable
[2021-01-14T14:30:07.6235865+00:00][INFO][1][Microsoft.AspNetCore.DataProtection.Internal.DataProtectionHostedService] Key ring failed to load during application startup.
Npgsql.PostgresException (0x80004005): 42P01: relation "DataProtectionKeys" does not exist
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlConnector.<>c__DisplayClass160_0.<<DoReadMessage>g__ReadMessageLong|0>d.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming)
   at Npgsql.NpgsqlDataReader.NextResult()
   at Npgsql.NpgsqlCommand.ExecuteReaderAsync(CommandBehavior behavior, Boolean async, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(CommandBehavior behavior)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.InitializeReader(DbContext _, Boolean result)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext